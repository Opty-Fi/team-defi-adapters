{
  "title": "Test DeFi Adapter",
  "description": "Test cases for DeFi adapters.",
  "stories": [
    {
      "description": "getDepositAllCodes() with 100% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with 0.1% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with 100% pool investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositPoolPct(address,uint256)",
          "args": {
            "maxDepositPoolPct": "10000"
          },
          "executer": "owner"
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with 0.9% pool investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositPoolPct(address,uint256)",
          "args": {
            "maxDepositPoolPct": "90"
          },
          "executer": "owner"
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with 0 investment limit (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with investment limit (less than the deposit amount) (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": "<"
          },
          "executer": "owner"
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositAllCodes() with investment limit (more than the deposit amount) (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": ">"
          },
          "executer": "owner"
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getWithdrawAllCodes() with 100% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": ">0"
        }
      ],
      "cleanActions": []
    },
    {
      "description": "getStakeAllCodes() should stake all the lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": ">0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getUnstakeAllCodes() should unstake all the staked lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAllCodes(address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": ">0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getUnstakeAndWithdrawAllCodes() should unstake all the staked lp tokens and then withdraw all the lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        }
      ],
      "cleanActions": []
    },
    {
      "description": "getUnstakeAndWithdrawSomeCodes() should unstake and then withdraw a specific amount of lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawSomeCodes(address,address,uint256,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        }
      ],
      "cleanActions": []
    },
    {
      "description": "getDepositSomeCodes() with 100% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "args": {},
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with 0.1% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with 100% pool investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositPoolPct(address,uint256)",
          "args": {
            "maxDepositPoolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with 0.9% pool investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositPoolPct(address,uint256)",
          "args": {
            "maxDepositPoolPct": "90"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with investment limit (less than the deposit amount) (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": "<"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with investment limit (more than the deposit amount) (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": ">"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getDepositSomeCodes() with 0 investment limit (mode=number)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "0"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositAmount(address,address,uint256)",
          "args": {
            "maxDepositAmount": "0"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getWithdrawSomeCodes() with 100% protocol investment limit (mode=pct)",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": ">0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getStakeSomeCodes() should stake a specific amount of lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeSomeCodes(address,uint256,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": ">0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getUnstakeSomeCodes() should unstake a specific amount of staked lp tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeSomeCodes(address,uint256,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalance(address,address,address)",
          "executer": "owner",
          "expectedValue": ">0"
        },
        {
          "contract": "adapter",
          "action": "getLiquidityPoolTokenBalanceStake(address,address)",
          "executer": "owner",
          "expectedValue": "=0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAllCodes(address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getHarvestAllCodes() should harvest all reward tokens to underlying",
      "setActions": [
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContractWithRewardToken",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetHarvestAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": ">0"
        },
        {
          "contract": "erc20",
          "action": "getRewardTokenBalance(address)",
          "executer": "owner",
          "expectedValue": "=0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getHarvestSomeCodes() should harvest specific amount of reward tokens to underlying",
      "setActions": [
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContractWithRewardToken",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetHarvestSomeCodes(address,address,address,uint256)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "erc20",
          "action": "balanceOf(address)",
          "executer": "owner",
          "expectedValue": ">0"
        },
        {
          "contract": "erc20",
          "action": "getRewardTokenBalance(address)",
          "executer": "owner",
          "expectedValue": "<"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getClaimRewardTokenCode() should be able claim reward tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "wait10000Seconds",
          "executer": "",
          "expect": "",
          "message": ""
        },
        {
          "contract": "adapter",
          "action": "getUnclaimedRewardTokenAmount(address,address,address)",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetClaimRewardTokenCode(address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "erc20",
          "action": "getRewardTokenBalance(address)",
          "executer": "owner",
          "expectedValue": ">0"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getUnderlyingTokens() should return same underlying tokens as there in lp contracts",
      "setActions": [
        {
          "contract": "adapter",
          "action": "getUnderlyingTokens(address,address)",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "calculateAmountInLPToken() should return amount in Lp token equivalent for specified deposit amount",
      "setActions": [
        {
          "contract": "adapter",
          "action": "calculateAmountInLPToken(address,address,uint256)",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "getPoolValue() should return the pool value of lp contract",
      "setActions": [
        {
          "contract": "adapter",
          "action": "getPoolValue(address,address)",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "getLiquidityPoolToken() should return liquidity pool token address",
      "setActions": [
        {
          "contract": "adapter",
          "action": "getLiquidityPoolToken(address,address)",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "getSomeAmountInToken() should return equivalent value of underlying token for given amount of lpToken",
      "setActions": [
        {
          "contract": "adapter",
          "action": "getSomeAmountInToken(address,address,uint256)",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "getAllAmountInToken() should return value in underlying token for all the lpTokens held",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getAllAmountInToken(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "getAllAmountInTokenStake() should return value in underlying token for all the staked lpTokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "getAllAmountInTokenStake(address,address,address)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "isRedeemableAmountSufficient() should return false if lp token redeem amt > balance in underlying tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "isRedeemableAmountSufficient(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": ">"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "isRedeemableAmountSufficient() should return true if lp token redeem amt < balance in underlying tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "isRedeemableAmountSufficient(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": "<"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "isRedeemableAmountSufficientStake() should return false if staked lp token redeem amt > balance in underlying tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "isRedeemableAmountSufficientStake(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": ">"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "isRedeemableAmountSufficientStake() should return true if staked lp token redeem amt < balance in underlying tokens",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "isRedeemableAmountSufficientStake(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": "<"
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "calculateRedeemableLPTokenAmount() should return the redeemable lp token amount on the basis of lp token balance",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "calculateRedeemableLPTokenAmount(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    },
    {
      "description": "calculateRedeemableLPTokenAmountStake() should return the redeemable lp token amount on the basis of staked lp token balance",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolMode(uint8)",
          "args": {
            "mode": "1"
          },
          "executer": "owner"
        },
        {
          "contract": "adapter",
          "action": "setMaxDepositProtocolPct(uint256)",
          "args": {
            "maxDepositProtocolPct": "10000"
          },
          "expect": "success",
          "message": ""
        },
        {
          "contract": "",
          "action": "fundTestDeFiAdapterContract",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetDepositAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetStakeAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "contract": "adapter",
          "action": "calculateRedeemableLPTokenAmountStake(address,address,address,uint256)",
          "executer": "owner",
          "expectedValue": {}
        }
      ],
      "cleanActions": [
        {
          "contract": "TestDeFiAdapter",
          "action": "testGetUnstakeAndWithdrawAllCodes(address,address,address)",
          "executer": "owner",
          "expect": "success",
          "message": ""
        }
      ]
    }
  ],
  "adapterStandaloneStories": [
    {
      "description": "setLiquidityPoolToStakingVault() - Operator should be able to set a mapping that associates a valid liquidity pool contract address with a valid staking vault contract address only once",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {},
          "executer": "owner",
          "expect": "success",
          "message": ""
        },
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {},
          "executer": "owner",
          "expect": "fail",
          "message": "liquidityPoolToStakingVault already set"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Non-Operator shouldn't be able to set liquidityPoolToStakingVault mapping",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {},
          "executer": "user1",
          "expect": "fail",
          "message": "caller is not the operator"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with invalid liquidityPool",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {},
          "executer": "owner",
          "expect": "fail",
          "message": "!_liquidityPool.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with EOA liquidityPool",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {
            "isInvalidAddress": "eoa"
          },
          "executer": "owner",
          "expect": "fail",
          "message": "!_liquidityPool.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with ZERO_ADDRESS liquidityPool",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {
            "isInvalidAddress": "zero"
          },
          "executer": "owner",
          "expect": "fail",
          "message": "!_liquidityPool.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with invalid stakingVault",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {},
          "executer": "owner",
          "expect": "fail",
          "message": "!_stakingVault.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with EOA stakingVault",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {
            "isInvalidAddress": "eoa"
          },
          "executer": "owner",
          "expect": "fail",
          "message": "!_stakingVault.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "setLiquidityPoolToStakingVault() - Operator shouldn't be able to set liquidityPoolToStakingVault mapping with ZERO_ADDRESS stakingVault",
      "setActions": [
        {
          "contract": "adapter",
          "action": "setLiquidityPoolToStakingVault(address,address)",
          "args": {
            "isInvalidAddress": "zero"
          },
          "executer": "owner",
          "expect": "fail",
          "message": "!_stakingVault.isContract()"
        }
      ],
      "getActions": [],
      "cleanActions": []
    },
    {
      "description": "[canStake()] - should return whether stake is allowed or not",
      "setActions": [
        {
          "contract": "adapter",
          "action": "canStake(address)",
          "args": {},
          "executer": "",
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [],
      "cleanActions": []
    }
  ]
}
